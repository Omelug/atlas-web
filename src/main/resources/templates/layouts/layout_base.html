<!doctype html>
<html lang="en" th:fragment="content(start, content)" xmlns:th="http://www.thymeleaf.org"
	  xmlns:sec="http://www.w3.org/1999/xhtml">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta name="robots" content="noindex,follow" />
	<title>Flowers</title>

	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
	<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>

	<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
	<script type="text/javascript" th:src="@{/ckeditor5-35.3.1/build/ckeditor.js}"></script>
	<link rel="stylesheet" href="/styly.css">
	<div th:replace="${start}"></div>
	
</head>

<body>
	<div class="row">
		<div class=" upbar">
			<div class="d-flex flex-row-reverse col-sm" style="justify-content: left">
				<a th:href="@{'/home'}" th:align="left">Atlas</a>
			</div>
		</div>
	</div>

	<div class="row">
		<div class="col-md-8 order-md-1 main-content">
			<div th:replace="${content}"></div>
		</div>
		<div class="col-md-3 order-md-2 sidebar ">
			<div class="row">
				<span style="margin-right: 10px;" > Login: </span>
				<a sec:authorize="isAuthenticated()" th:href="@{/login}" class=" d-flex flex-row-revers" role="button" th:text="${#authentication.getPrincipal().getUsername()}" ></a>
				<a th:href="@{/login}" class=" d-flex flex-row-revers" role="button" sec:authorize="isAnonymous()" >Login</a>
			</div>
			<div class="row">
				<a href="/admin" style="margin-right: 10px;"> Admin tools</a>
				<div class="image-container">
					<img class="icon" src="/png/admintools.png" alt="AT">
				</div>
			</div>
			<div class="row">
				<span style="margin-right: 10px;"> Database </span>
				<div class="image-container">
					<img class="icon" src="/png/database.png" alt="DB">
				</div>
			</div>
				<ul  class="db_list" th:each="dbhelper : ${databaseList}">
					<form class="" method="post" action="/changeDatabase">
						<td th:unless="${currentDatabase == dbhelper.database}">
							<button class="link-button" th:text="${dbhelper.database}" th:value="${dbhelper.database}" ></button>
						</td>
						<td th:if="${currentDatabase == dbhelper.database}">
							<button class="link-button" style="font-weight: bold" th:text="${dbhelper.database}" th:value="${dbhelper.database}" ></button>
						</td>
						<td> <a class="smallText" th:text="${dbhelper.roles}" ></a></td>
						<input type="hidden" name="databaseName" th:value="${dbhelper.database}" />
					</form>
				</ul>
		</div>
	</div>
	<script>

		ClassicEditor.create(document.getElementById("inputText"), {
			// https://ckeditor.com/docs/ckeditor5/latest/features/toolbar/toolbar.html#extended-toolbar-configuration-format
			toolbar: {
				items: [
					'bold', 'italic', 'strikethrough', 'underline', 'subscript', 'superscript', '|', 'undo', 'redo'
				],
				shouldNotGroupWhenFull: true
			},
			removePlugins: [
				'ExportPdf',
				'ExportWord',
				'CKBox',
				'CKFinder',
				'EasyImage',
				'RealTimeCollaborativeComments',
				'RealTimeCollaborativeTrackChanges',
				'RealTimeCollaborativeRevisionHistory',
				'PresenceList',
				'Comments',
				'TrackChanges',
				'TrackChangesData',
				'RevisionHistory',
				'Pagination',
				'WProofreader',
				'MathType'
			]
		});

	</script>
</body>

</html>